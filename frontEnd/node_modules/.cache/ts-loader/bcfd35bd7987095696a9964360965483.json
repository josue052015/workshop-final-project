{"remainingRequest":"F:\\workshop-final-project\\workshop-final-project\\frontEnd\\node_modules\\babel-loader\\lib\\index.js!F:\\workshop-final-project\\workshop-final-project\\frontEnd\\node_modules\\ts-loader\\index.js??ref--13-2!F:\\workshop-final-project\\workshop-final-project\\frontEnd\\src\\mixins\\base-form-edit.mixin.ts","dependencies":[{"path":"F:\\workshop-final-project\\workshop-final-project\\frontEnd\\src\\mixins\\base-form-edit.mixin.ts","mtime":1629085164853},{"path":"F:\\workshop-final-project\\workshop-final-project\\frontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\workshop-final-project\\workshop-final-project\\frontEnd\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\workshop-final-project\\workshop-final-project\\frontEnd\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L3dvcmtzaG9wLWZpbmFsLXByb2plY3Qvd29ya3Nob3AtZmluYWwtcHJvamVjdC9mcm9udEVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjovd29ya3Nob3AtZmluYWwtcHJvamVjdC93b3Jrc2hvcC1maW5hbC1wcm9qZWN0L2Zyb250RW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRjovd29ya3Nob3AtZmluYWwtcHJvamVjdC93b3Jrc2hvcC1maW5hbC1wcm9qZWN0L2Zyb250RW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRjovd29ya3Nob3AtZmluYWwtcHJvamVjdC93b3Jrc2hvcC1maW5hbC1wcm9qZWN0L2Zyb250RW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiRjovd29ya3Nob3AtZmluYWwtcHJvamVjdC93b3Jrc2hvcC1maW5hbC1wcm9qZWN0L2Zyb250RW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnBhcnNlLWludC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBCYXNlU2VydmljZSB9IGZyb20gJ0AvY29yZS9zZXJ2aWNlcyc7CmltcG9ydCB7IENvbXBvbmVudCwgTWl4aW5zIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IENvcmVNaXhpbiB9IGZyb20gJy4vY29yZS5taXhpbic7Cgp2YXIgQmFzZUZvcm1FZGl0TWl4aW4gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9NaXhpbnMpIHsKICBfaW5oZXJpdHMoQmFzZUZvcm1FZGl0TWl4aW4sIF9NaXhpbnMpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEJhc2VGb3JtRWRpdE1peGluKTsKCiAgZnVuY3Rpb24gQmFzZUZvcm1FZGl0TWl4aW4oKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VGb3JtRWRpdE1peGluKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuc2F2aW5nID0gZmFsc2U7CiAgICBfdGhpcy5leGl0T25TYXZlID0gdHJ1ZTsKICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIF90aGlzLmxvYWRGcm9tQVBJID0gZmFsc2U7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQmFzZUZvcm1FZGl0TWl4aW4sIFt7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB0aGlzLmlkID0gTnVtYmVyLnBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgICAgIHRoaXMuc2VydmljZSA9IG5ldyBCYXNlU2VydmljZSh0aGlzLmNvbnRyb2xsZXIpOwogICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb2RlbFRvRWRpdCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmVkaXRpbmdFbnRpdHk7CiAgICB9CiAgfSwgewogICAga2V5OiAibW9kZWxEb05vdENoYW5nZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZXF1YWxzKHRoaXMubW9kZWxJbml0LCB0aGlzLm1vZGVsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0RGF0YSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy5tb2RlbFRvRWRpdCAmJiAhdGhpcy5sb2FkRnJvbUFQSSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwgPSB0aGlzLm1hcCh0aGlzLm1vZGVsVG9FZGl0KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmdldEJ5SWQodGhpcy5pZCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMubW9kZWwgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgdGhpcy5tb2RlbEluaXQgPSB0aGlzLm1hcCh0aGlzLm1vZGVsKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEzOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHRoaXMub3BlcmF0aW9uRmFpbGVkRXJyb3JzKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxNik7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDEzLCAxNiwgMTldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgICAgcmV0dXJuIF9nZXREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXREYXRhOwogICAgfSgpCiAgfSwgewogICAga2V5OiAidmFsaWRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF92YWxpZGF0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3VsdCwgZXJyb3JzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kdmFsaWRhdG9yLnZhbGlkYXRlQWxsKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBlcnJvcnMgPSB0aGlzLiR2YWxpZGF0b3IuZXJyb3JzLml0ZW1zLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gZS5tc2c7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMub3BlcmF0aW9uRmFpbGVkRXJyb3JzKGVycm9ycyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHRoaXMuZWRpdCgpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICAgICAgICByZXR1cm4gX3ZhbGlkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB2YWxpZGF0ZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImVkaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9lZGl0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzdWx0LCBlcnJvcnMsIGVycm9yTWVzc2FnZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIHRoaXMuc2F2aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UucHV0KHRoaXMuaWQsIHRoaXMubW9kZWwpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMuc2F2aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdlZGl0JywgcmVzdWx0KTsKICAgICAgICAgICAgICAgIHRoaXMuY2xlYW4oKTsKICAgICAgICAgICAgICAgIHRoaXMub3BlcmF0aW9uU3VjY2VzcygpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuZXhpdE9uU2F2ZSkgdGhpcy5jb25maXJtZWRDYW5jZWwoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBlcnJvcnMgPSBbXTsKCiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKF9jb250ZXh0My50MC5kYXRhKSA9PT0gIltvYmplY3QgU3RyaW5nXSIpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goX2NvbnRleHQzLnQwLmRhdGEpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfY29udGV4dDMudDAuZGF0YSAmJiBfY29udGV4dDMudDAuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZXMgPSBfY29udGV4dDMudDAuZGF0YTsKICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9ycy5wdXNoKHguZXJyb3JNZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChfY29udGV4dDMudDApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9ycyk7CiAgICAgICAgICAgICAgICB0aGlzLm9wZXJhdGlvbkZhaWxlZEVycm9ycyhlcnJvcnMpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxODsKICAgICAgICAgICAgICAgIHRoaXMuc2F2aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmZpbmlzaCgxOCk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMsIFtbMCwgMTIsIDE4LCAyMV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZWRpdCgpIHsKICAgICAgICByZXR1cm4gX2VkaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGVkaXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjbGVhbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYW4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi4kdmFsaWRhdG9yLmVycm9ycy5jbGVhcigpOwogICAgICB9LCAxMCk7CiAgICAgIHRoaXMubW9kZWwgPSB0aGlzLm1hcCh0aGlzLm1vZGVsSW5pdCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuY2VsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubW9kZWxEb05vdENoYW5nZSkgewogICAgICAgIHRoaXMuY29uZmlybWVkQ2FuY2VsKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRidWVmeS5kaWFsb2cuY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICdBdmVydGVuY2lhJywKICAgICAgICB0eXBlOiAnaXMtd2FybmluZycsCiAgICAgICAgc2l6ZTogJ2lzLW1lZGl1bScsCiAgICAgICAgaGFzSWNvbjogdHJ1ZSwKICAgICAgICBjb25maXJtVGV4dDogJ1NhbGlyJywKICAgICAgICBjYW5jZWxUZXh0OiAnTm8nLAogICAgICAgIG1lc3NhZ2U6ICfCv1NlZ3VybyBxdWUgZGVzZWEgc2FsaXIgZGUgbGEgc2VjY2nDs24/JywKICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uIG9uQ29uZmlybSgpIHsKICAgICAgICAgIHJldHVybiBfdGhpczMuY29uZmlybWVkQ2FuY2VsKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjb25maXJtZWRDYW5jZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmZpcm1lZENhbmNlbCgpIHsKICAgICAgdGhpcy5tb2RlbCA9IHRoaXMubWFwKHRoaXMubW9kZWxJbml0KTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIiIuY29uY2F0KHRoaXMuJHJvdXRlci5jdXJyZW50Um91dGUucGF0aC5zcGxpdCgnL2VkaXQnKVswXSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImRlc3Ryb3llZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgICBpZiAodGhpcy5tb2RlbFRvRWRpdCkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0RWRpdEVudGl0eScsIG51bGwpOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQmFzZUZvcm1FZGl0TWl4aW47Cn0oTWl4aW5zKENvcmVNaXhpbikpOwoKQmFzZUZvcm1FZGl0TWl4aW4gPSBfX2RlY29yYXRlKFtDb21wb25lbnRdLCBCYXNlRm9ybUVkaXRNaXhpbik7CmV4cG9ydCB7IEJhc2VGb3JtRWRpdE1peGluIH07"},{"version":3,"sources":["F:\\workshop-final-project\\workshop-final-project\\frontEnd\\src\\mixins\\base-form-edit.mixin.ts"],"names":[],"mappings":"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","sourcesContent":["import { Base } from '@/core/model/base.model';\r\nimport { BaseService } from '@/core/services';\r\nimport { Component, Mixins, Vue } from 'vue-property-decorator';\r\nimport { CoreMixin } from './core.mixin';\r\n@Component\r\nexport class BaseFormEditMixin<T extends Base> extends Mixins(CoreMixin) {\r\n    protected service!: BaseService<T>;\r\n    protected model!: T;\r\n    protected id!: number;\r\n    protected controller!: string;\r\n    protected saving = false;\r\n    protected exitOnSave = true;\r\n    protected loading = false;\r\n    protected modelInit!: T;\r\n    protected loadFromAPI = false;\r\n\r\n    created() {\r\n        this.id = Number.parseInt(this.$route.params.id);\r\n        this.service = new BaseService<T>(this.controller);\r\n        this.getData();\r\n    }\r\n    get modelToEdit() {\r\n        return this.$store.state.editingEntity;\r\n    }\r\n    get modelDoNotChange() {\r\n        return this.equals(this.modelInit, this.model);\r\n    }\r\n    protected async getData() {\r\n        try {\r\n            if (this.modelToEdit && !this.loadFromAPI)\r\n                this.model = this.map<T>(this.modelToEdit);\r\n            else {\r\n                this.loading = true;\r\n                const response = await this.service.getById(this.id);\r\n                this.model = response.data;\r\n            }\r\n            this.modelInit = this.map<T>(this.model);\r\n        } catch (errors) {\r\n            this.operationFailedErrors(errors);\r\n        } finally {\r\n            this.loading = false;\r\n        }\r\n    }\r\n    async validate() {\r\n        let result = await this.$validator.validateAll();\r\n        if (!result){\r\n            const errors =  this.$validator.errors.items.map(e => e.msg);\r\n            this.operationFailedErrors(errors);\r\n            return;\r\n        }\r\n        this.edit();\r\n    }\r\n    protected async edit() {\r\n        try {\r\n            this.saving = true;\r\n            var result = await this.service.put(this.id, this.model);\r\n            this.saving = false;\r\n            this.$emit('edit', result);\r\n            this.clean();\r\n            this.operationSuccess();\r\n\r\n            if (this.exitOnSave)\r\n                this.confirmedCancel();\r\n\r\n        } catch (error) {\r\n            var errors: any[] = [];\r\n            if(Object.prototype.toString.call(error.data) === \"[object String]\"){\r\n                errors.push(error.data);\r\n            } else if (error.data && error.data.length > 0) {\r\n                var errorMessages = error.data as any[];\r\n                errorMessages.forEach(x => errors.push(x.errorMessage));\r\n            }else{\r\n                errors.push(error);\r\n            }\r\n            console.log(errors);\r\n            this.operationFailedErrors(errors);\r\n        } finally {\r\n            this.saving = false;\r\n        }\r\n    }\r\n\r\n    protected clean() {\r\n        setTimeout(() => this.$validator.errors.clear(), 10);\r\n        this.model = this.map<T>(this.modelInit);\r\n    }\r\n    protected cancel() {\r\n        if (this.modelDoNotChange) {\r\n            this.confirmedCancel();\r\n            return;\r\n        }\r\n\r\n        this.$buefy.dialog.confirm({\r\n            title: 'Avertencia',\r\n            type: 'is-warning',\r\n            size: 'is-medium',\r\n            hasIcon: true,\r\n            confirmText: 'Salir',\r\n            cancelText: 'No',\r\n            message: '¿Seguro que desea salir de la sección?',\r\n            onConfirm: () => this.confirmedCancel()\r\n        })\r\n\r\n    }\r\n\r\n    protected confirmedCancel() {\r\n        this.model = this.map<T>(this.modelInit);\r\n        this.$router.push(`${this.$router.currentRoute.path.split('/edit')[0]}`)\r\n    }\r\n\r\n    destroyed() {\r\n        if (this.modelToEdit) {\r\n            this.$store.commit('setEditEntity', null);\r\n        }\r\n    }\r\n}"],"sourceRoot":""}]}